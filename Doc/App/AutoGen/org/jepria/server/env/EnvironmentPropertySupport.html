<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="ru">
<head>
<!-- Generated by javadoc -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>EnvironmentPropertySupport (JepRia JavaDoc)</title>
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="EnvironmentPropertySupport (JepRia JavaDoc)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":17,"i1":17,"i2":6,"i3":18,"i4":6};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],16:["t5","Default Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../org/jepria/server/env/EnvironmentPropertySupportWebImpl.html" title="class in org.jepria.server.env"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/jepria/server/env/EnvironmentPropertySupport.html" target="_top">Frames</a></li>
<li><a href="EnvironmentPropertySupport.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.jepria.server.env</div>
<h2 title="Interface EnvironmentPropertySupport" class="title">Interface EnvironmentPropertySupport</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../org/jepria/server/env/EnvironmentPropertySupportWebImpl.html" title="class in org.jepria.server.env">EnvironmentPropertySupportWebImpl</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">EnvironmentPropertySupport</span></pre>
<div class="block">Гибкий интерфейс получения значений переменных окружения по имени.
 <br/><br/>
 Пример динмического получения значений переменных окружения в java-коде приложения:
 <pre>
 String name = "var";  // имя переменной
 String value;         // считываемое значение
 value = EnvironmentPropertySupport.getInstance(...).getProperty(name);                   // простое считывание значения
 value = EnvironmentPropertySupport.getInstance(...).getProperty(name, "value-default");  // считывание значения, либо возврат значения по умолчанию, если переменная не определена
 </pre>

 Переменные в окружении определяют одним (либо несколькими) из следующих способов:
 <ol>
   <li>
     На уровне <a href="https://tomcat.apache.org/tomcat-7.0-doc/config/context.html#Environment_Entries">контекстных переменных Томката</a> в серверном конфигурационном файле Tomcat/conf/context.xml элементами <code>&lt;Environment/&gt;</code>
     <pre>
     &lt;Context&gt;
       ...
       &lt;Environment name="var" value="value" type="java.lang.String" override="true"/&gt;
       ...
     &lt;/Context&gt;</pre>
   </li>
   <li>
     На уровне свойств <code>JVM</code>
     <pre>
     java ... -Dname=value</pre>
   </li>
   <li>
     На уровне переменных окружения ОС
   </li>
   <li>
     Внутри приложения — в файле <code>war/WEB-INF/app-conf.default.properties</code> — значения по умолчанию
   </li>
 </ol>
 На каждом из уровней переменные могут определяться следующим образом
 <br/>

 При таком определении все приложения, установленные на данном инстансе, будут считывать значение <code>value</code> переменной с именем <code>var</code>.
 <br/><br/>
 Можно переопределить значение переменной для одного приложения, добавив к имени переменной <i>контекст</i> этого приложения:
 <pre>
 &lt;Context&gt;
   &lt;!-- объявление переменной var без контекста (для всех приложений) --&gt;
   &lt;Environment name="var" value="4" type="java.lang.String" override="true"/&gt;
   &lt;!-- объявление переменной var в контексте (для приложения foo) --&gt;
   &lt;Environment name="foo#var" value="3-foo" type="java.lang.String" override="true"/&gt;
   &lt;!-- объявление переменной var в контексте (для приложения foo/bar) --&gt;
   &lt;Environment name="foo#bar#var" value="3-foo#bar" type="java.lang.String" override="true"/&gt;
 &lt;/Context&gt;</pre>
 При таком определении
 <br/>
 приложение, установленное под контекстным путём <code>/foo</code>, будет считывать значение <code>3-foo</code> переменной с именем <code>var</code>,
 <br/>
 приложение, установленное под контекстным путём <code>/foo/bar (foo#bar)</code>, будет считывать значение <code>3-foo#bar</code> переменной с именем <code>var</code>,
 <br/>
 остальные приложения, установленные на данном инстансе, будут считывать значение <code>4</code> переменной с именем <code>var</code>.

 <br/>
 <i>Использование символа <code>#</code> в смысле <code>/</code> обусловлено тем, что <code>/</code> является специальным символом в терминах <code>javax.naming.Context</code>.</i>

 <br/>
 <br/>
 Множество переменных можно вынести в общий конфигурационный файл (<code>.properties</code>), указав ссылку на этот файл в отдельной переменной с ключевым именем <code>app-conf.file</code>.

 <pre>
 &lt;Context&gt;
   &lt;!-- определение переменных в конфигурационном файле --&gt;
   &lt;Environment name="app-conf.file" value="C:\app-conf.properties" type="java.lang.String" override="true"/&gt;
 &lt;/Context&gt;
 </pre>
 Содержимое файла <code>C:\app-conf.properties</code>:
 <pre>
 var=4
 foo#var=3-foo
 foo#bar#var=3-foo#bar
 </pre>
 При таком определении<br/>
 приложение, установленное под контекстным путём <code>/foo</code>, будет считывать значение <code>3-foo</code> переменной с именем <code>var</code>,<br/>
 приложение, установленное под контекстным путём <code>/foo/bar (foo#bar)</code>, будет считывать значение <code>3-foo#bar</code> переменной с именем <code>var</code>,<br/>
 остальные приложения, установленные на данном инстансе, будут считывать значение <code>4</code> переменной с именем <code>var</code>.

 <br/><br/>
 Можно комбинировать непосредственное определение переменных и определение в конфигурационном файле:
 <br/>
 <i>Приоритет в этом случае имеет значение переменной, определённой непосредственно.</i>
 <pre>
 &lt;Context&gt;
   &lt;!-- непосредственное объявление переменных var --&gt;
   &lt;Environment name="var" value="2" type="java.lang.String" override="true"/&gt;
   &lt;Environment name="foo#var" value="1-foo" type="java.lang.String" override="true"/&gt;
   &lt;Environment name="foo#bar#var" value="1-foo#bar" type="java.lang.String" override="true"/&gt;
   &lt;!-- определение переменных в конфигурационном файле --&gt;
   &lt;Environment name="app-conf.file" value="C:\app-conf.properties" type="java.lang.String" override="true"/&gt;
 &lt;/Context&gt;</pre>
 Содержимое файла <code>C:\app-conf.properties</code>:
 <pre>
 var=4
 foo#var=3-foo
 foo#bar#var=3-foo#bar
 </pre>
 При таком определении<br/>
 приложение, установленное под контекстным путём <code>/foo</code>, будет считывать значение <code>1-foo</code> переменной с именем <code>var</code>,<br/>
 приложение, установленное под контекстным путём <code>/foo/bar (foo#bar)</code>, будет считывать значение <code>1-foo#bar</code> переменной с именем <code>var</code>,<br/>
 остальные приложения, установленные на данном инстансе, будут считывать значение <code>2</code> переменной с именем <code>var</code>.

 <br/><br/>
 В случае, если для разных приложений требуются отдельные конфигурационные файлы, каждый из них объявляется в контексте, аналогично.
 <pre>
 &lt;Context&gt;
   &lt;Environment name="app-conf.file" value="C:\app-conf.properties" type="java.lang.String" override="true"/&gt;
   &lt;Environment name="foo#app-conf.file" value="C:\foo\app-conf.properties" type="java.lang.String" override="true"/&gt;
 &lt;/Context&gt;
 </pre>
 Содержимое файла <code>C:\app-conf.properties</code>:
 <pre>
 var=5
 </pre>
 Содержимое файла <code>C:\foo\app-conf.properties</code>:
 <pre>
 var=3-foo
 </pre>
 При таком определении<br/>
 приложение, установленное под контекстным путём <code>/foo</code>, будет считывать значение <code>3-foo</code> переменной с именем <code>var</code>,<br/>
 остальные приложения, установленные на данном инстансе, будут считывать значение <code>5</code> переменной с именем <code>var</code>.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t5" class="tableTab"><span><a href="javascript:show(16);">Default Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static <a href="../../../../org/jepria/server/env/EnvironmentPropertySupport.html" title="interface in org.jepria.server.env">EnvironmentPropertySupport</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/jepria/server/env/EnvironmentPropertySupport.html#getInstance-javax.servlet.http.HttpServletRequest-">getInstance</a></span>(javax.servlet.http.HttpServletRequest&nbsp;request)</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static <a href="../../../../org/jepria/server/env/EnvironmentPropertySupport.html" title="interface in org.jepria.server.env">EnvironmentPropertySupport</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/jepria/server/env/EnvironmentPropertySupport.html#getInstance-javax.servlet.ServletContext-">getInstance</a></span>(javax.servlet.ServletContext&nbsp;context)</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/jepria/server/env/EnvironmentPropertySupport.html#getProperty-java.lang.String-">getProperty</a></span>(java.lang.String&nbsp;name)</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>default java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/jepria/server/env/EnvironmentPropertySupport.html#getProperty-java.lang.String-java.lang.String-">getProperty</a></span>(java.lang.String&nbsp;name,
           java.lang.String&nbsp;defaultValue)</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/jepria/server/env/EnvironmentPropertySupport.html#getPropertySource-java.lang.String-">getPropertySource</a></span>(java.lang.String&nbsp;name)</code>
<div class="block">Describes where the property has been actually retrieved from 
 (due to the multiple property access object strategy).</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getProperty-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getProperty</h4>
<pre>java.lang.String&nbsp;getProperty(java.lang.String&nbsp;name)</pre>
</li>
</ul>
<a name="getProperty-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getProperty</h4>
<pre>default&nbsp;java.lang.String&nbsp;getProperty(java.lang.String&nbsp;name,
                                     java.lang.String&nbsp;defaultValue)</pre>
</li>
</ul>
<a name="getPropertySource-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPropertySource</h4>
<pre>java.lang.String&nbsp;getPropertySource(java.lang.String&nbsp;name)</pre>
<div class="block">Describes where the property has been actually retrieved from 
 (due to the multiple property access object strategy).
 Consists of property location and actual property name 
 (the actual property name in the storage denoted by the location 
 may differ from the name it was requested, regarding contexts)  
 Used for debug purposes (represented by a human-readable string)</div>
</li>
</ul>
<a name="getInstance-javax.servlet.http.HttpServletRequest-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInstance</h4>
<pre>static&nbsp;<a href="../../../../org/jepria/server/env/EnvironmentPropertySupport.html" title="interface in org.jepria.server.env">EnvironmentPropertySupport</a>&nbsp;getInstance(javax.servlet.http.HttpServletRequest&nbsp;request)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>request</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>property support for web applications</dd>
</dl>
</li>
</ul>
<a name="getInstance-javax.servlet.ServletContext-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getInstance</h4>
<pre>static&nbsp;<a href="../../../../org/jepria/server/env/EnvironmentPropertySupport.html" title="interface in org.jepria.server.env">EnvironmentPropertySupport</a>&nbsp;getInstance(javax.servlet.ServletContext&nbsp;context)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../org/jepria/server/env/EnvironmentPropertySupportWebImpl.html" title="class in org.jepria.server.env"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/jepria/server/env/EnvironmentPropertySupport.html" target="_top">Frames</a></li>
<li><a href="EnvironmentPropertySupport.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
